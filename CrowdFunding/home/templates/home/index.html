{% extends "home/base.html" %}
{% load static %}
{% block head-css %}
    
{% endblock %}
{% load bootstrap4 %}
{% bootstrap_css %}
{% bootstrap_javascript jquery='full' %}
{% block content %}
<style>
/* The alert message box */
.alert {
  padding: 20px;
  background-color: #f44336; /* Red */
  color: white;
  margin-bottom: 15px;
}

/* The close button */
.closebtn {
  margin-left: 15px;
  color: white;
  font-weight: bold;
  float: right;
  font-size: 22px;
  line-height: 20px;
  cursor: pointer;
  transition: 0.3s;
}

/* When moving the mouse over the close button */
.closebtn:hover {
  color: black;
}
.slideCss {
    width: 100%;
    height: 380px;
}

.slide_show {
    width: 100%;
}

.latestproject {
    margin-top: 2%;
}

.fproject {
    margin-top: 2%;
    width: 18%;
    margin-left: 2%;
}

.desc {
    max-lines: 1;
    line-height: 20px;
    max-height: 20px;
    overflow: hidden;
    text-overflow: ellipsis;

    margin-left: 35%;
    font-style: oblique;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #3a6073;
}

hr {
    width: 120px;
    margin-top: 10px;
    margin-left: 43%;
    background-color: #16222A;
}

.categs {
    width: 12%;
    height: 12%;
    margin: 3%;
}

.sliderTitle {
    font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
    font-size: 50px;
    /*font-style: bold; */

}

.sliderDesc {
    font-family: initial;
    font-size: 25px;
    font-style: oblique;
    max-lines: 1;
    line-height: 30px;
    max-height: 60px;
    overflow: hidden;
    text-overflow: ellipsis;
    
}
</style>
    
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}


{% block is_authenticated %}

<div class="container row" >
<div class="w-1 p-3 col-xs-6" >
    <form method="post" action="{% url 'searchName'  %}" style="margin: 0">
            {% csrf_token %}
                            <div class="input-group">
                                          <div class="form-outline">
                                            <input id="search_name" type="search" id="form1"  name="search_name"  class="form-control" />
                                          </div>
                                <button  id="searchTag_submit" type="submit" class="btn btn-outline-primary">search by title</button>

                            </div>
        </form>
</div>
<div class="w-1 p-3 col-xs-6" >
    <form method="post" action="{% url 'searchTag'  %}" style="margin: 0">
            {% csrf_token %}
                            <div class="input-group">
                                          <div class="form-outline">
                                            <input id="search_tag" type="search" name="search_tag"  class="form-control" />
                                          </div>
                                <button  id="searchName_submit" type="submit" class="btn btn-outline-primary">search by tag</button>

                            </div>
        </form>
</div>
</div>




<div class="row col-md-12 p-4">

    <div class="row col-md-3 ">
        <div class="list-group col-md-12">
            <a  class="list-group-item list-group-item-action  list-group-item-dark active">
              Project Categories
            </a>
            {% for cat in all_category %}
            <a href="#" class="list-group-item list-group-item-action"> {{ cat.name }} </a>
            {%endfor%}
          </div>
    </div>

    <!--  -->
   
<!--  -->

    <div class="row col-md-1 "></div>

    <div class="row col-md-8 ">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel"  style="margin: auto;">
            <ol class="carousel-indicators">
              {% for image in images%}
              <li data-target="#carouselExampleIndicators" data-slide-to="{{ forloop.counter0 }}" class="{% if forloop.counter0 == 0  %} active {%endif%}"></li>
              {% endfor %}

            </ol>

            
            <div class="carousel-inner">
                {% for image in images %}
                <div class="carousel-item {% if forloop.counter0 == 0  %} active {%endif%}">
                    <img src="/media/{{image.image}}" class="img-fluid"  alt="">
              
                    <div class="carousel-caption d-none d-md-block">
                        <h5>{{image.project.title}}</h5>
                        <a class="btn btn-primary" href="{% url 'viewProject' image.project.id %}">show details</a>
                </div>
                </div>
              {% endfor %}
            </div>
           
            

            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          </div>
    </div>
</div>



<br><br><br>
<div class="container">
    <table class="table table-bordered text-center">
        <thead class="thead-dark">
            <tr>
                <th>title</th>
                <th>details</th>
                <th>category</th>
                <th>total target</th>
                <th>actions</th>
            </tr>
        </thead>

        {% for project in latest_projects %}

        <tr> 
            <td>{{project.title}}</td>
            <td>{{project.details}}</td>
            <td>{{project.category.name}}</td>
            <td>{{project.total_target}}</td>
            <td>
                <a href="{% url 'editProject' project.id %}">Edit</a>
                <a href="{% url 'viewProject' project.id %}">View</a>
                <a href="{% url 'deleteProject' project.id %}">Delete</a>
                <a href="{% url 'create_report_project' project.id %}">Report</a>
            </td>



            
        </tr>

        {%endfor%}

    </table>
</div>



{% endblock %}




  <!-- .table-fixed tbody {
    height: 230px;
    overflow-y: auto;
    width: 100%;
  }
  .table-fixed thead, .table-fixed tbody, .table-fixed tr, .table-fixed td, .table-fixed th {
    display: block;
  } -->